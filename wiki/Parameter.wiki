#sidebar Menu
#summary BagaOSD parameter description
----
= Modification for Arduino code =

== Compilation ==

Use arduino IDE (http://arduino.cc/en/main/software) to compile and upload your code to Arduino and MiniMOSD. You'll find a lot of tutorial about it on the internet.

----
== Config file == 

Modify file *config.h* according to your needs 
----
=== RSSI Choice (PWM or Analog) ===
{{{
#define RSSI_USE_PWM               ENABLED
}}}
Set it to ENABLED if you are using a PWM RSSI source (numerical). If you're using an analog source or you don't use any RSSI information, you can comment this part (put // in front of *#define RSSI_USE_PWM*)


{{{
#define RSSI_PIN_PWM               12
}}}
Set the numerical PIN number (default 12) if you are using PWM RSSI source (numerical). Only used if *RSSI_USE_PWM* is ENABLED


{{{
#define RSSI_PWM_BUFFER            32
}}}
Internal buffer to smooth PWM RSSI signal. Only used if RSSI_USE_PWM is ENABLED


{{{
#define RSSI_PIN_ANALOG            A2
}}}
Set the analog PIN (default A2) you want to use to read RSSI analog source. This part is ignored if *RSSI_USE_PWM* is *ENABLED*. If you don't need to display RSSI, assign -1 value (*#define RSSI_PIN_ANALOG -1*)


----
=== Radio receiver information ===
{{{
#define RC_PPM_MODE                ENABLED 
}}}
Set it to ENABLED if your receiver output PPM (get all the channels information through one port only), this can be commented to use standard RX configuration instead of PPM Sum configuration.


{{{
#define SERIAL_SUM_PPM             ROLL_PPM,PITCH_PPM,THROTTLE_PPM,YAW_PPM,X1_PPM,X2_PPM,FMODE_PPM,...
}}}
Set the channel order if you're using a PPM receiver and *RC_PPM_MODE* is *ENABLED*. Only 2 channels are used : *THROTTLE_PPM* (for flight time and throttle percent) and *FMODE_PPM* (for flight mode)


----
=== Global sensor config ===
{{{
#define INTERNAL_VOLTAGE_REF       5160
}}}
Used to have a better read accuracy for analog source. 

Internal Arduino voltage can vary, so to get the same measured value, we should compare to a fixed reference. This can be commented to be disabled.


----
=== Voltage sensor config ===
{{{
#define VOLTAGE_PIN                A0
}}}
Voltage sensor pin


{{{
#define VOLTAGE_FACTOR             12.21
}}}
Rise this value to lower voltage displayed value 


{{{
#define VOLTAGE_BUFFER             128
}}}
Internal buffer to smooth voltage value


----
=== Current sensor config ===
{{{
#define CURRENT_PIN                A3
}}}
Current sensor pin


{{{
#define CURRENT_FACTOR             2.46
}}}
Rise this value to lower current output value  


{{{
#define CURRENT_BUFFER             128
}}}
Internal buffer to smooth current value


----
=== Battery config ===
{{{
//#define ESTIMATE_BATTERY_REMAINING  ENABLED 
}}}
Commented to use a current sensor, current sensor is not used if uncommented.

{{{
#define LIPO_CELL                  4 
}}}
Number of cell, for estimate capacity (*ESTIMATE_BATTERY_REMAINING*)

{{{
#define LIPO_CAPACITY_MAH          8000
}}}
LIPO capacity in mah to dispaly remaining percent of battery (when a current sensor is used and *ESTIMATE_BATTERY_REMAINING* is disabled)



